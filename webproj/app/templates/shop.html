{% extends 'base.html' %}

{%  load static %}

{% block title %}Shop{% endblock %}

	{% block content %}

	<!-- Shop Section Begin -->
	<section class="shop spad">
		<div class="container">
			<div class="row">
				<div class="col-lg-3">
					<div class="shop__sidebar">
						<div class="shop__sidebar__search">
							<form action="#">
								<input type="text" placeholder="Search..." />
								<button type="submit">
									<span class="icon_search"></span>
								</button>
							</form>
						</div>
						<div class="shop__sidebar__accordion">
							<div class="accordion" id="accordionExample">
								<div class="card">
									<div class="card-heading">
										<a
											data-toggle="collapse"
											data-target="#collapseOne"
											>Categories</a
										>
									</div>
									<div
										id="collapseOne"
										class="collapse show"
										data-parent="#accordionExample"
									>
										<div class="card-body">
											<div
												class="shop__sidebar__categories"
											>
												<ul class="nice-scroll">
                                                    {% for category in categories %}
													<li>
														<a href="javascript:insertParam({'category':{{ category.id }}})">{{ category.title }} ({{ category.numProd }})</a>
													</li>
                                                    {% endfor %}

												</ul>
											</div>
										</div>
									</div>
								</div>
								<div class="card">
									<div class="card-heading">
										<a
											data-toggle="collapse"
											data-target="#collapseTwo"
											>Developer</a
										>
									</div>
									<div
										id="collapseTwo"
										class="collapse show"
										data-parent="#accordionExample"
									>
										<div class="card-body">
											<div class="shop__sidebar__brand">
												<ul>
													{% for dev in developers %}
													<li>
														<a href="javascript:insertParam({'dev':{{ dev.id }}})">{{ dev.name }}</a>
													</li>
                                                    {% endfor %}
												</ul>
											</div>
										</div>
									</div>
								</div>
								<div class="card">
									<div class="card-heading">
										<a
											data-toggle="collapse"
											data-target="#collapseThree"
											>Filter Price</a
										>
									</div>
									<div
										id="collapseThree"
										class="collapse show"
										data-parent="#accordionExample"
									>
										<div class="card-body">
											<div class="shop__sidebar__price">
												<ul>
													<li>
														<a href="javascript:insertParam({'price':0})"
															>0€ - 10€</a
														>
													</li>
													<li>
														<a href="javascript:insertParam({'price':1})"
															>10€ - 25€</a
														>
													</li>
													<li>
														<a href="javascript:insertParam({'price':2})"
															>25€ -
															50€</a
														>
													</li>
													<li>
														<a href="javascript:insertParam({'price':3})"
															>50€ -
															100€</a
														>
													</li>
													<li>
														<a href="javascript:insertParam({'price':4})"
															>100€ -
															200€</a
														>
													</li>
													<li>
														<a href="javascript:insertParam({'price':5})">250€ +</a>
													</li>
												</ul>
											</div>
										</div>
									</div>
								</div>
								<div class="card">
									<div class="card-heading">
										<a
											data-toggle="collapse"
											data-target="#collapseFour"
											>Rating</a
										>
									</div>
									<div
										id="collapseFour"
										class="collapse show"
										data-parent="#accordionExample"
									>
										<div class="card-body">
											<div class="shop__sidebar__size">
												<label for="xs"
													onclick="insertParam({'stars':1})">⭐️
													<input
														type="radio"
														id="1*"
                                                    />
												</label>
												<label for="sm"
													onclick="insertParam({'stars':2})">⭐️⭐️
													<input
														type="radio"
														id="2*"
													/>
												</label>
												<label for="md"
													onclick="insertParam({'stars':3})">⭐️⭐️⭐️
													<input
														type="radio"
														id="3*"
													/>
												</label>
												<label for="xl"
													onclick="insertParam({'stars':4})">⭐️⭐️⭐️⭐️
													<input
														type="radio"
														id="4*"
													/>
												</label>
												<label for="2xl"
													onclick="insertParam({'stars':5})">⭐️⭐️⭐️⭐️⭐️
													<input
														type="radio"
														id="5*"
													/>
												</label>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
            {% if products %}
				<div class="col-lg-9">
					<div class="shop__product__option">
						<div class="row">
							<div class="col-lg-6 col-md-6 col-sm-6">
								<div class="shop__product__option__left">
									<p>Showing {{ actualPage }}–{{ totalPages }} of {{ totalProducts }} results</p>
								</div>
							</div>
							<div class="col-lg-6 col-md-6 col-sm-6">
								<div class="shop__product__option__right">
									<p>Sort by:</p>
									<select>
										<option onclick="insertParam({'sort':0})" value="">Price Low To High</option>
										<option onclick="insertParam({'sort':1})" value="">Price High to Low</option>
										<option onclick="insertParam({'sort':2})" value="">Rating Low To High</option>
										<option onclick="insertParam({'sort':3})" value="">Rating High to Low</option>
									</select>
								</div>
							</div>
						</div>
					</div>
					<div class="row">

                        {% for product in products %}
						<div class="col-lg-4 col-md-6 col-sm-6 product" >
								{% if product.rate > 0 %}
									<div class="product__item sale">
									{% else %}
									<div class="product__item">
									{% endif %}

									<div
										class="product__item__pic set-bg"
										data-setbg="{{ product.icon }}"
									>
										<ul class="product__hover">
											<li>
												<a href="javascript:console.log('clicke')"
													><img
														src="{% static "img/icon/heart.png" %}"
														alt=""
												/></a>
											</li>
										</ul>
									</div>

									<div class="product__item__text" onclick="document.location.href='/shop/product/{{ product.id }}/'">
										<h6>{{ product.name }}</h6>
									<a class="add-cart">{{ product.description }}</a>
										<div class="rating">

											{% for _ in product.nStars %}
													<i class="fa fa-star"></i>
												{% endfor %}




												{% for _ in product.nEmptyStars %}
													<i class="fa fa-star-o"></i>
												{% endfor %}


										</div>
										<h5>{{ product.price }} €</h5>
									</div>

								</div>

						</div>
                        {% endfor %}
					</div>
					<div class="row">
						<div class="col-lg-12">
							<div class="product__pagination">
								<a class="active" href="">{{ actualPage }}</a>


                                {% for _ in rangeLeftPages %}
                                    <a href="javascript:insertParam({'page':{{ actualPage|add:forloop.counter }}})">{{ actualPage|add:forloop.counter }} </a>
                                {% endfor %}


                                 {% if leftPages > 2  %}
                                    <span>...</span>
                                    <a href="javascript:insertParam({'page':{{ totalPages }}})">{{ totalPages }}</a>
                                {% endif %}
							</div>
						</div>
					</div>
				</div>
                {% else %}
                <div class="col-lg-9">
                <div class="product__details__text">
                    <h3>There are no products.</h3>
                </div>
                </div>
             {% endif %}
			</div>
		</div>
	</section>
	<!-- Shop Section End -->

	{% endblock %}
